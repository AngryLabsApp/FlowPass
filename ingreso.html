<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FlowPass — Usuarios</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@700;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="./public/css/index.css" />
</head>

<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="#" class="sidebar__brand">
        <span class="logo logo--lg" aria-hidden="true">
          <!-- Icono inline (SVG) con color adaptable a la marca mediante currentColor -->
          <svg class="logo__svg" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"
            focusable="false">
            <path fill="currentColor"
              d="M156.7 256H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h142.2c15.9 0 30.8 10.9 33.4 26.6 3.3 20-12.1 37.4-31.6 37.4-14.1 0-26.1-9.2-30.4-21.9-2.1-6.3-8.6-10.1-15.2-10.1H81.6c-9.8 0-17.7 8.8-15.9 18.4 8.6 44.1 47.6 77.6 94.2 77.6 57.1 0 102.7-50.1 95.2-108.6C249 291 205.4 256 156.7 256zM16 224h336c59.7 0 106.8-54.8 93.8-116.7-7.6-36.2-36.9-65.5-73.1-73.1-55.4-11.6-105.1 24.9-114.9 75.5-1.9 9.6 6.1 18.3 15.8 18.3h32.8c6.7 0 13.1-3.8 15.2-10.1C325.9 105.2 337.9 96 352 96c19.4 0 34.9 17.4 31.6 37.4-2.6 15.7-17.4 26.6-33.4 26.6H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16zm384 32H243.7c19.3 16.6 33.2 38.8 39.8 64H400c26.5 0 48 21.5 48 48s-21.5 48-48 48c-17.9 0-33.3-9.9-41.6-24.4-2.9-5-8.7-7.6-14.5-7.6h-33.8c-10.9 0-19 10.8-15.3 21.1 17.8 50.6 70.5 84.8 129.4 72.3 41.2-8.7 75.1-41.6 84.7-82.7C526 321.5 470.5 256 400 256z" />
          </svg>
        </span>
        <span class="sidebar__name">FlowPass</span>
      </a>
      <nav class="sidebar__nav" aria-label="Menú principal">
        <a href="index.html" class="sidebar__link">Usuarios</a>
        <a href="ingreso.html" class="sidebar__link sidebar__link--active">Ingreso</a>
      </nav>
      <nav class="sidebar__nav" aria-label="Menú principal">

      </nav>
    </aside>

    <!-- Content -->

    <div class="content">

      <main class="main">
        <h1 class="main__title">Ingreso</h1>
        <!-- Card de Ingreso -->
        <div class="card checkin" aria-label="Registro de ingreso">

          <!-- Foto -->
          <div class="checkin__avatar-wrap">
            <div class="checkin__avatar" id="checkinAvatar" aria-hidden="true">
              <svg class="icon icon--lg">
                <use href="/public/icons/sprites.svg#dumbbell-heart"></use>
              </svg>
              <span id="checkinAvatarInitials"></span>
            </div>
            <div class="checkin__display-name" id="checkinAvatarName">

              Invitado

            </div>
          </div>



          <form id="checkinForm" class="checkin__form" autocomplete="off">
            <div class="form__row">
              <label class="checkin_form__label" for="checkinQuery">Código</label>
              <input class="form__control" id="checkinQuery" name="q" placeholder="Ej. 0001" aria-autocomplete="list"
                aria-expanded="false" aria-controls="checkinResults" inputmode="numeric" />
            </div>

            <!-- dropdown de sugerencias -->
            <div id="checkinResults" class="checkin__results" role="listbox" hidden></div>

            <!-- selección -->
            <div id="checkinSelected" class="checkin__selected" hidden></div>

            <!-- Teclado numérico -->
            <div class="checkin__keypad" aria-label="Teclado numérico" role="group">
              <div class="checkin__keypad-grid">
                <button type="button" class="checkin__key" data-key="1">1</button>
                <button type="button" class="checkin__key" data-key="2">2</button>
                <button type="button" class="checkin__key" data-key="3">3</button>
                <button type="button" class="checkin__key" data-key="4">4</button>
                <button type="button" class="checkin__key" data-key="5">5</button>
                <button type="button" class="checkin__key" data-key="6">6</button>
                <button type="button" class="checkin__key" data-key="7">7</button>
                <button type="button" class="checkin__key" data-key="8">8</button>
                <button type="button" class="checkin__key" data-key="9">9</button>
                <button type="button" class="checkin__key checkin__key--action" data-key="clear"
                  aria-label="Limpiar"><svg class="icon--md">
                    <use href="/public/icons/sprites.svg#clean-key"></use>
                  </svg></button>
                <button type="button" class="checkin__key" data-key="0">0</button>
                <button type="button" class="checkin__key checkin__key--action" data-key="back" aria-label="Borrar"><svg
                    class="icon--md">
                    <use href="/public/icons/sprites.svg#delete-key"></use>
                  </svg></button>
              </div>
            </div>

            <div class="form__actions checkin__actions">
              <button class="btn btn--primary" type="submit">Registrar ingreso</button>
              <button class="btn" type="button" id="checkinClear">Limpiar</button>
            </div>

            <p class="checkin__status" id="checkinStatus" aria-live="polite"></p>
          </form>
        </div>


        <!-- Modal: Ficha de usuario -->
        <div class="modal modal--success" id="userModal" aria-hidden="true" role="dialog" aria-modal="false"
          aria-labelledby="userModalTitle">
          <div class="modal__overlay" data-close></div>
          <div class="modal__dialog card" role="document">
            <!-- Header -->
            <header class="modal__header">
              <h2 class="modal__title" id="userModalTitle">INGRESO CORRECTO</h2>
              <button class="modal__close" type="button" aria-label="Cerrar" data-close>
                ✕
              </button>
            </header>

            <div class="modal__body">
              <!-- Panel principal -->
              <div class="modal__main">
                <!-- Sección: Datos personales -->
                <section class="section">
                  <h3 class="section__title">Asistencia y fechas</h3>
                  <div class="info-grid">
                    <div class="row">
                      <div class="label">
                        <svg class="icon">
                          <use href="/public/icons/sprites.svg#class-icon"></use>
                        </svg>
                        Clases realizadas
                      </div>
                      <div class="value" data-field="NumberOfClases">—</div>
                    </div>
                    <div class="row">
                      <div class="label">Inicio del plan</div>
                      <div class="value" data-field="DateOfSubcription">—</div>
                    </div>
                    <div class="row">
                      <div class="label">Próximo pago</div>
                      <div class="value" data-field="NextPaymentDay">—</div>
                    </div>
                  </div>
                </section>

              </div>
              </section>

              <!-- Acciones -->
              <div class="modal__actions">
                <button class="btn btn--primary" id="ok_modal">
                  OK
                </button>

              </div>
            </div>
          </div>
        </div>
    </div>





    </main>
  </div>
  </div>

  <!-- Loader modal -->
  <div class="modal" id="loaderModal" aria-hidden="true" role="alert" aria-modal="true">
    <div class="modal__overlay"></div>
    <div class="modal__dialog card loader__dialog">
      <div class="loader__spinner"></div>
      <p class="loader__text">Procesando...</p>
    </div>
  </div>
  <script src="/public/src/spinner.js"></script>
  <script src="/public/src/env.js"></script>
  <script src="/public/src/Ingreso/Ingreso.js"></script>
</body>

</html>