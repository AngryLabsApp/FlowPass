<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FlowPass — Pagos</title>
  <link rel="icon" href="/public/icons/logo-flowpass.svg" type="image/svg+xml" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@700;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="./public/css/index.css" />
</head>

<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar"></aside>

    <!-- Content -->
    <div class="content">
      <div class="topbar">
        <div class="topbar__filters">
          <input id="paymentsSearch" class="topbar__search-input" type="search"
            placeholder="Buscar por nombre, email o código" aria-label="Buscar por nombre o apellido" autocomplete="off" />
          <input id="paymentsMonthFilter" class="topbar__select topbar__select--month" type="month"
            aria-label="Filtrar por mes" name="paymentsMonth" />
          <select id="FilterEstadoPagoSelect" class="topbar__select" aria-label="Filtrar por estado">
            <option value="">Estado de pago: Todos</option>
          </select>
        </div>
        <div class="topbar__actions">
          <button class="btn btn--primary" id="downloadHistory" type="button">
            Descargar historial
          </button>
        </div>
      </div>

      <main class="main">
        <h1 class="main__title">Pagos</h1>

        <div class="card" aria-label="Tabla de pagos">
          <table class="table" aria-label="Tabla de pagos">
            <thead class="table__head"  id="payments_table">
              <tr class="table__row">
                <th class="table__head-cell">Payment ID</th>
                <th class="table__head-cell">Usuario</th>
                <th class="table__head-cell">Monto</th>
                <th class="table__head-cell">Fecha</th>
                <th class="table__head-cell">Plan</th>
                <th class="table__head-cell">Medio de pago</th>
                <th class="table__head-cell">Estado</th>
              </tr>
            </thead>
            <tbody class="table__body" id="paymentsTableBody">
              <tr class="table__row">
                <td class="table__cell">FP-1024</td>
                <td class="table__cell">Grecia Delgado</td>
                <td class="table__cell">S/ 180.00</td>
                <td class="table__cell">05/03/2024 09:32</td>
                <td class="table__cell">16 Sesiones Mensuales</td>
                <td class="table__cell">Yape</td>
                <td class="table__cell">
                  <span class="badge badge--paid">Pagado</span>
                </td>
              </tr>
              <tr class="table__row">
                <td class="table__cell">FP-1025</td>
                <td class="table__cell">Alberto Torres</td>
                <td class="table__cell">S/ 150.00</td>
                <td class="table__cell">06/03/2024 15:47</td>
                <td class="table__cell">12 Sesiones Mensuales</td>
                <td class="table__cell">Transferencia</td>
                <td class="table__cell">
                  <span class="badge badge--pending">Pendiente</span>
                </td>
              </tr>
              <tr class="table__row">
                <td class="table__cell">FP-1026</td>
                <td class="table__cell">María Paredes</td>
                <td class="table__cell">S/ 200.00</td>
                <td class="table__cell">07/03/2024 11:05</td>
                <td class="table__cell">Ilimitado</td>
                <td class="table__cell">Plin</td>
                <td class="table__cell">
                  <span class="badge badge--overdue">Rechazado</span>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="table__footer" id="usersPager">
            <div class="pagination">
              <div class="pagination__status" id="pagerStatus"></div>
              <nav class="pagination__nav" aria-label="Paginación" id="pagination"></nav>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
  <script src="/public/src/utils/dynamic-forms.js"></script>
  <script src="/public/src/utils/utils.js"></script>
  <script src="/public/src/load_dynamic_fields.js"></script>
  <script src="/public/src/session/session_manager.js" type="module"></script>
  <script type="module">
    import { ensureSessionOrRedirect } from "/public/src/session/session_manager.js";
    window.SessionManager = { ensureSessionOrRedirect };
    window.dispatchEvent(new Event("session-ready"));
  </script>
  
  <script src="/public/src/api/api.js" defer></script>

  <script src="/public/src/shared/sidebar.js"></script>
  <script src="/public/src/env.js"></script>
  <script src="/public/src/pagination.js"></script>

  <script src="/public/src/historico/historico.js"></script>
</body>

</html>